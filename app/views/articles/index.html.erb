<div class="container-fluid">
  <div class="container mb-4">
    <h1>Articles</h1>
    <%= render "search_form", article: @article %>
  </div>
  <div class="container mt-2 mb-4">
    <%= link_to "+ new Article", new_article_path, class: "btn btn-sm btn-secondary" %>
  </div>  
  <div class="container">
    <div class="row">
      <% @articles.each do |article| %>
        <div class="col-md-4 mb-4">
          <div class="card h-100">
            <div class="card-body">
              <% if article.images.attached? %>
                <%= image_tag article.images.first.variant(:thumb), class: "card-img-top" %>
              <% end %>
              <h4><%= article.title %></h4>
              <p>By : <%= article.user.username %></p>
              <p class="card-text"><%= article.content.truncate(120, omission: '...') %></p>
              <%= link_to "View", article, class: "btn btn-sm btn-outline-primary float-end" %>
            </div>
          </div>
        </div>
      <% end %>
    </div>
  </div>
  <div class="container mb-4">
    <%= paginate @articles %><br>
    <%= page_entries_info @articles %>
  </div>
</div>
